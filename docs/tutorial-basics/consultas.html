<!doctype html>
<html lang="es" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tutorial-basics/consultas">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Consultas Eloquent | Laravel 10: Crea aplicaciones web escalables y seguras</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://jesquiliche.github.io/curso-laravel/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://jesquiliche.github.io/curso-laravel/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://jesquiliche.github.io/curso-laravel/docs/tutorial-basics/consultas"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Consultas Eloquent | Laravel 10: Crea aplicaciones web escalables y seguras"><meta data-rh="true" name="description" content="¿Qué son las consultas en Eloquent?"><meta data-rh="true" property="og:description" content="¿Qué son las consultas en Eloquent?"><link data-rh="true" rel="icon" href="/curso-laravel/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://jesquiliche.github.io/curso-laravel/docs/tutorial-basics/consultas"><link data-rh="true" rel="alternate" href="https://jesquiliche.github.io/curso-laravel/docs/tutorial-basics/consultas" hreflang="es"><link data-rh="true" rel="alternate" href="https://jesquiliche.github.io/curso-laravel/docs/tutorial-basics/consultas" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/curso-laravel/blog/rss.xml" title="Laravel 10: Crea aplicaciones web escalables y seguras RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/curso-laravel/blog/atom.xml" title="Laravel 10: Crea aplicaciones web escalables y seguras Atom Feed"><link rel="stylesheet" href="/curso-laravel/assets/css/styles.66d1563d.css">
<link rel="preload" href="/curso-laravel/assets/js/runtime~main.c0503f3a.js" as="script">
<link rel="preload" href="/curso-laravel/assets/js/main.2b39f6c7.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Saltar al contenido principal"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Saltar al contenido principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/curso-laravel/"><div class="navbar__logo"><img src="/curso-laravel/img/laravel.png" alt="Laravel 10" class="themedImage_ToTc themedImage--light_HNdA"><img src="/curso-laravel/img/laravel.png" alt="Laravel 10" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Laravel 10</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/curso-laravel/docs/intro">Tutorial</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Volver al principio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/curso-laravel/docs/intro">Introducción</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/curso-laravel/docs/category/guía-de-laravel">Guía de Laravel</a><button aria-label="Toggle the collapsible sidebar category &#x27;Guía de Laravel&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/curso-laravel/docs/tutorial-basics/configuracion">Instalación y configuración</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/curso-laravel/docs/tutorial-basics/migraciones">Migraciones</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/curso-laravel/docs/category/modelos">Modelos</a><button aria-label="Toggle the collapsible sidebar category &#x27;Modelos&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/curso-laravel/docs/tutorial-basics/seeders">Rellenando la BB.DD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/curso-laravel/docs/tutorial-basics/consultas">Consultas Eloquent</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/curso-laravel/docs/category/eloquent-y-sql">Eloquent y SQL</a><button aria-label="Toggle the collapsible sidebar category &#x27;Eloquent y SQL&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/curso-laravel/docs/tutorial-basics/triggers">Vistas SQL</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/curso-laravel/docs/category/rutas-y-controladores">Rutas y controladores</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rutas y controladores&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/curso-laravel/docs/category/vistas-blade">Vistas Blade</a><button aria-label="Toggle the collapsible sidebar category &#x27;Vistas Blade&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/curso-laravel/docs/category/calidad-del-software">Calidad del Software</a><button aria-label="Toggle the collapsible sidebar category &#x27;Calidad del Software&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/curso-laravel/docs/category/administración">Administración</a><button aria-label="Toggle the collapsible sidebar category &#x27;Administración&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/curso-laravel/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/curso-laravel/docs/category/guía-de-laravel"><span itemprop="name">Guía de Laravel</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Consultas Eloquent</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">En esta página</button></div><div class="theme-doc-markdown markdown"><h1>Consultas Eloquent</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="qué-son-las-consultas-en-eloquent">¿Qué son las consultas en Eloquent?<a href="#qué-son-las-consultas-en-eloquent" class="hash-link" aria-label="Enlace directo al ¿Qué son las consultas en Eloquent?" title="Enlace directo al ¿Qué son las consultas en Eloquent?">​</a></h2><p>Las consultas en Eloquent son una forma de interactuar con la base de datos mediante la recuperación, creación, actualización o eliminación de registros. Eloquent proporciona una serie de métodos y opciones para construir y ejecutar consultas de manera intuitiva y fácil de entender.</p><p>Con Eloquent, las consultas se construyen a través de la creación de instancias de la clase <code>Illuminate\Database\Eloquent\Builder</code> y el uso de sus métodos. Los métodos de consulta de Eloquent se encargan de construir la consulta SQL adecuada según los parámetros proporcionados.</p><p>Eloquent soporta una amplia variedad de operadores y cláusulas, como <code>where</code>, <code>orWhere</code>, <code>whereIn</code>, <code>whereBetween</code>, <code>orderBy</code>, <code>groupBy</code>, <code>having</code>, entre otros. Además, es posible crear consultas complejas con múltiples condiciones y subconsultas.</p><p>Las consultas en Eloquent también soportan relaciones entre modelos, lo que permite obtener registros relacionados utilizando métodos como <code>with</code>, <code>has</code>, <code>whereHas</code>, entre otros.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cómo-utilizar-eloquent-para-encadenar-métodos-y-construir-consultas">Cómo utilizar Eloquent para encadenar métodos y construir consultas.<a href="#cómo-utilizar-eloquent-para-encadenar-métodos-y-construir-consultas" class="hash-link" aria-label="Enlace directo al Cómo utilizar Eloquent para encadenar métodos y construir consultas." title="Enlace directo al Cómo utilizar Eloquent para encadenar métodos y construir consultas.">​</a></h2><p>En Eloquent, las consultas son utilizadas para recuperar datos de la base de datos. Una de las características más poderosas de Eloquent es su lenguaje fluido, que permite encadenar métodos para construir consultas complejas de forma muy legible y mantenible.</p><p>Para construir una consulta en Eloquent, se empieza por llamar al método <code>DB::table</code> o al método estático <code>Model::query</code> del modelo en cuestión, dependiendo de si se quiere construir una consulta para una tabla en particular o para un modelo específico. A partir de ahí, se pueden encadenar una serie de métodos para construir la consulta deseada.</p><p>Algunos ejemplos de métodos que se pueden utilizar para construir consultas en Eloquent son:</p><ul><li><code>select</code>: para seleccionar las columnas que se quieren recuperar.</li><li><code>where</code>: para filtrar los resultados según una condición dada.</li><li><code>orWhere</code>: para agregar una condición &quot;o&quot;.</li><li><code>whereIn</code> / <code>whereNotIn</code>: para filtrar según si el valor de una columna está en una lista de valores dada.</li><li><code>orderBy</code>: para ordenar los resultados por una columna dada.</li><li><code>groupBy</code>: para agrupar los resultados por una columna dada.</li><li><code>join</code>: para realizar una unión con otra tabla.</li><li><code>leftJoin</code>: para realizar una unión izquierda con otra tabla.</li><li><code>count</code>, <code>max</code>, <code>min</code>, <code>sum</code>: para obtener valores agregados de una columna.</li></ul><p>Por ejemplo, para construir una consulta que seleccione los usuarios cuyo correo electrónico termine en &quot;@gmail.com&quot; y los ordene por orden alfabético, se puede utilizar el siguiente código:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = DB::table(&#x27;users&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;select(&#x27;name&#x27;, &#x27;email&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;where(&#x27;email&#x27;, &#x27;like&#x27;, &#x27;%@gmail.com&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;orderBy(&#x27;name&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este código primero selecciona las columnas <code>name</code> y <code>email</code> de la tabla <code>users</code>, luego filtra los resultados para seleccionar solo aquellos donde la columna <code>email</code> termina en &quot;@gmail.com&quot;, y finalmente los ordena por la columna <code>name</code>.</p><p>El resultado de la consulta se almacena en la variable <code>$users</code>, que contendrá una colección de objetos que representan los resultados de la consulta.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="métodos">métodos<a href="#métodos" class="hash-link" aria-label="Enlace directo al métodos" title="Enlace directo al métodos">​</a></h2><p>Los métodos Eloquent son un conjunto de funciones
proporcionadas por el ORM de Laravel, Eloquent, para interactuar
con la base de datos a través de modelos. Estos métodos permiten
realizar diversas operaciones en la base de datos, como recuperar
datos, insertar, actualizar y eliminar registros, establecer
relaciones entre tablas, entre otras. Los métodos Eloquent son
llamados directamente en los modelos y se encargan de generar las
consultas SQL correspondientes y manejar los resultados devueltos.
Son una de las características clave que hacen de Laravel y
Eloquent una combinación tan poderosa para el desarrollo de
aplicaciones web.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="all">all<a href="#all" class="hash-link" aria-label="Enlace directo al all" title="Enlace directo al all">​</a></h3><p>El método <code>all</code> de Eloquent es utilizado para obtener todos los registros de una tabla en la base de datos. Este método devuelve una colección de objetos de modelo, que representan a cada registro en la tabla.</p><p>El uso básico del método <code>all</code> es el siguiente:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = App\Models\User::all();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>En este ejemplo, se obtienen todos los registros de la tabla <code>users</code> en la base de datos y se almacenan en la variable <code>$users</code>. Cada registro es representado por un objeto de modelo <code>User</code>.</p><p>El método <code>all</code> también acepta una lista de columnas para seleccionar solamente aquellas columnas específicas de la tabla. Por ejemplo:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = App\Models\User::all([&#x27;id&#x27;, &#x27;name&#x27;]);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>En este ejemplo, se seleccionan solamente las columnas <code>id</code> y <code>name</code> de la tabla <code>users</code>.</p><p>Cabe mencionar que el método <code>all</code> puede no ser adecuado para tablas con
grandes cantidades de registros, ya que puede consumir una gran cantidad
de recursos al cargar todos los registros en memoria. En estos casos,
es recomendable utilizar métodos que permitan la paginación o la
limitación de resultados, como <code>paginate</code> o <code>take</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="avg">avg()<a href="#avg" class="hash-link" aria-label="Enlace directo al avg()" title="Enlace directo al avg()">​</a></h3><p>El método <code>avg()</code> de Eloquent se utiliza para obtener el promedio de los valores de una columna específica en la tabla de la base de datos. Por ejemplo, si queremos obtener el promedio de la edad de todos los usuarios en una tabla de usuarios, podemos usar el método <code>avg()</code> de la siguiente manera:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$averageAge = User::avg(&#x27;age&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>En este ejemplo, <code>User</code> es el modelo de Eloquent para la tabla de usuarios, y <code>age</code> es el nombre de la columna que contiene la edad de cada usuario. El método <code>avg()</code> devuelve un valor decimal que representa el promedio de la columna especificada. Si no hay registros en la tabla que coincidan con la consulta, el método devuelve <code>null</code>.</p><p>También es posible utilizar el método <code>avg()</code> en combinación con el método <code>groupBy()</code> para obtener el promedio de una columna específica para cada grupo en la tabla. Por ejemplo, si queremos obtener el promedio de la edad de los usuarios para cada ciudad en la tabla de usuarios, podemos usar el siguiente código:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$averageAgeByCity = User::groupBy(&#x27;city&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        -&gt;selectRaw(&#x27;city, AVG(age) as average_age&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        -&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>En este ejemplo, el método <code>groupBy()</code> agrupa los resultados por
la columna <code>city</code>, y el método <code>selectRaw()</code> se utiliza para seleccionar
la columna <code>city</code> y el promedio de la columna <code>age</code> para cada grupo.
El resultado es una colección de objetos que contienen el nombre de la
ciudad y el promedio de la edad de los usuarios en esa ciudad.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="chunk">chunk<a href="#chunk" class="hash-link" aria-label="Enlace directo al chunk" title="Enlace directo al chunk">​</a></h3><p>El método <code>chunk</code> de Eloquent permite recuperar registros de la base de datos en lotes, en lugar de recuperar todos los registros de una vez. Esto es especialmente útil cuando se manejan grandes conjuntos de datos que pueden consumir mucha memoria.</p><p>El método acepta dos argumentos: el tamaño del lote y una función de retorno de llamada que se ejecutará para cada lote de registros recuperados. La función de retorno de llamada recibe como argumento una instancia de colección que contiene los registros recuperados.</p><p>Un ejemplo de uso del método <code>chunk</code> sería el siguiente:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Recuperar todos los usuarios en lotes de 100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User::chunk(100, function ($users) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach ($users as $user) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // procesar cada usuario</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este código recuperará los registros de la tabla <code>users</code> en lotes de 100 y
ejecutará la función de retorno de llamada para cada lote.
La función de retorno de llamada recibirá una
colección que contiene hasta 100 registros.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="count">count()<a href="#count" class="hash-link" aria-label="Enlace directo al count()" title="Enlace directo al count()">​</a></h3><p>El método <code>count()</code> de Eloquent permite contar la cantidad de registros que hay en una tabla de la base de datos que correspondan a las condiciones especificadas en la consulta.</p><p>Se puede llamar al método sin ningún parámetro para obtener el total de registros de la tabla, o con uno o varios argumentos para obtener el total de registros que cumplan las condiciones especificadas.</p><p>Por ejemplo, si queremos obtener el total de usuarios en una tabla llamada <code>users</code>, podemos usar el método de la siguiente manera:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$totalUsers = User::count();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>También podemos obtener el total de usuarios que cumplan ciertas condiciones, por ejemplo, que tengan el campo <code>status</code> igual a &quot;activo&quot;:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$totalActiveUsers = User::where(&#x27;status&#x27;, &#x27;activo&#x27;)-&gt;count();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este método puede ser útil en diversas situaciones,
como para obtener estadísticas sobre la cantidad de registros que cumplen
ciertas condiciones, para realizar paginación, entre otros casos.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create">create<a href="#create" class="hash-link" aria-label="Enlace directo al create" title="Enlace directo al create">​</a></h3><p>El método <code>create</code> de Eloquent permite crear un nuevo registro en la base de datos a partir de un array asociativo de atributos. Es decir, podemos crear un nuevo modelo y persistirlo en la base de datos en una sola operación. La sintaxis básica es la siguiente:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Creamos un nuevo modelo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$user = User::create([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;name&#x27; =&gt; &#x27;John Doe&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;email&#x27; =&gt; &#x27;johndoe@example.com&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;password&#x27; =&gt; bcrypt(&#x27;secret&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>En este ejemplo, estamos creando un nuevo modelo de <code>User</code> y especificando los atributos que queremos asignarle mediante un array asociativo. Los nombres de las claves del array deben coincidir con los nombres de las columnas de la tabla en la base de datos.</p><p>El método <code>create</code> también devuelve una instancia del modelo recién creado, lo que nos permite encadenar métodos adicionales si lo deseamos. Además, si existe una restricción de clave única en la tabla para algún campo incluido en el array de atributos, Laravel lanzará una excepción de tipo <code>Illuminate\Database\QueryException</code> si intentamos crear un registro que viole esa restricción.</p><p>Es importante tener en cuenta que el método <code>create</code> no valida automáticamente los datos proporcionados. Si necesitamos validar los datos antes de crear el modelo, deberíamos utilizar el método <code>validate</code> del objeto <code>Illuminate\Validation\Validator</code> antes de llamar al método <code>create</code>.</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Validamos los datos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$validator = Validator::make($request-&gt;all(), [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;name&#x27; =&gt; &#x27;required|string|max:255&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;email&#x27; =&gt; &#x27;required|string|email|max:255|unique:users&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;password&#x27; =&gt; &#x27;required|string|min:8|confirmed&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if ($validator-&gt;fails()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return redirect(&#x27;register&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;withErrors($validator)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;withInput();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Creamos un nuevo modelo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$user = User::create([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;name&#x27; =&gt; $request-&gt;input(&#x27;name&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;email&#x27; =&gt; $request-&gt;input(&#x27;email&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;password&#x27; =&gt; bcrypt($request-&gt;input(&#x27;password&#x27;)),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>En este ejemplo, estamos utilizando el objeto <code>Validator</code> para validar
los datos del formulario antes de crear el modelo. Si la validación falla,
redirigimos al usuario de vuelta al formulario con los errores
correspondientes. Si la validación pasa, creamos un nuevo modelo de <code>User</code>
a partir de los datos proporcionados por el usuario.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="delete">delete<a href="#delete" class="hash-link" aria-label="Enlace directo al delete" title="Enlace directo al delete">​</a></h3><p>El método <code>delete</code> de Eloquent se utiliza para eliminar un registro de la base de datos. Puede ser llamado en un modelo específico, lo que eliminará la fila correspondiente en la tabla de la base de datos.</p><p>Por ejemplo, supongamos que tenemos un modelo <code>User</code> y queremos eliminar un usuario en particular con un ID de 1. Podemos hacerlo así:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$user = User::find(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$user-&gt;delete();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>También se puede llamar al método <code>delete</code> directamente en una consulta, lo que eliminará todas las filas que satisfagan los criterios de la consulta.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">User::where(&#x27;active&#x27;, false)-&gt;delete();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este ejemplo eliminará todas las filas de la tabla &quot;users&quot; donde el campo &quot;active&quot; es falso. Cabe destacar que este método elimina directamente las filas de la base de datos sin pasar por la papelera de reciclaje,
por lo que se debe tener cuidado al utilizarlo.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="distinct">distinct<a href="#distinct" class="hash-link" aria-label="Enlace directo al distinct" title="Enlace directo al distinct">​</a></h3><p>El método <code>distinct()</code> se utiliza para obtener un conjunto de resultados distintos y únicos de una columna específica en una consulta. Por defecto, las consultas de Eloquent devuelven todos los resultados que coinciden con los criterios de la consulta, lo que puede incluir filas duplicadas. Pero si se desea obtener solamente los valores únicos de una columna, se puede utilizar el método <code>distinct()</code>.</p><p>Este método se puede encadenar después del método <code>select()</code> para indicar que se desea obtener valores únicos de la columna seleccionada. Por ejemplo:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$uniqueResults = DB::table(&#x27;users&#x27;)-&gt;select(&#x27;name&#x27;)-&gt;distinct()-&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este código devuelve una colección de objetos de usuario, cada uno de los cuales tiene una propiedad <code>name</code>, pero sin duplicados.</p><p>Cabe mencionar que el método <code>distinct()</code> no puede ser
utilizado junto con algunos métodos de agregación, como
<code>count()</code>, <code>max()</code>, <code>min()</code>, <code>avg()</code> y <code>sum()</code>. En tales casos, se puede
utilizar una subconsulta para obtener los resultados únicos de una columna
en lugar de usar el método <code>distinct()</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="find">find<a href="#find" class="hash-link" aria-label="Enlace directo al find" title="Enlace directo al find">​</a></h3><p>El método <code>find()</code> es utilizado para recuperar un solo modelo por su clave primaria. Toma como argumento la clave primaria del modelo que se desea recuperar y devuelve una instancia del modelo correspondiente. Si no se encuentra un modelo con la clave primaria especificada, se devuelve <code>null</code>. </p><p>Por ejemplo, para recuperar un registro de la tabla <code>users</code> por su clave primaria <code>id</code>:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$user = User::find(1); // devuelve el usuario con ID 1 o null si no existe</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>También es posible pasar un array de claves primarias como argumento para recuperar varios modelos a la vez:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = User::find([1, 2, 3]); // devuelve una colección de usuarios con IDs 1, 2 y 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Es importante destacar que <code>find()</code> solo busca por clave primaria,
no se pueden utilizar otros campos de la tabla como criterios de búsqueda.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="first">first<a href="#first" class="hash-link" aria-label="Enlace directo al first" title="Enlace directo al first">​</a></h3><p>El método <code>first()</code> es utilizado para obtener el primer registro que cumple con las condiciones especificadas en una consulta. Es similar al método <code>get()</code>, pero en lugar de devolver una colección de registros, devuelve solo el primer registro. </p><p>Por ejemplo, para obtener el primer usuario registrado en la base de datos, se puede utilizar el método <code>first()</code> de la siguiente manera:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$user = User::first();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Si se quiere obtener el primer usuario que cumpla con ciertas condiciones, se puede encadenar el método <code>where()</code> a la consulta:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$user = User::where(&#x27;name&#x27;, &#x27;John&#x27;)-&gt;first();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este método es útil cuando se sabe que solo se necesita un registro específico y no es necesario recuperar todos los registros que
cumplen con las condiciones especificadas.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="get">get<a href="#get" class="hash-link" aria-label="Enlace directo al get" title="Enlace directo al get">​</a></h3><p>El método <code>get()</code> es utilizado para recuperar todos los registros de una tabla. Este método es utilizado para ejecutar una consulta y recuperar una colección de objetos <code>Illuminate\Database\Eloquent\Model</code>. </p><p>Por defecto, <code>get()</code> devuelve todos los registros de la tabla asociada al modelo. También se puede utilizar para obtener un conjunto de registros que coincidan con una condición específica pasada como argumento en el método <code>where()</code>. </p><p>Por ejemplo, si queremos obtener todos los usuarios que tengan un nombre específico &quot;John&quot;, podemos hacer lo siguiente:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = App\Models\User::where(&#x27;name&#x27;, &#x27;John&#x27;)-&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Esto devolverá una colección de objetos <code>User</code> que coincidan con la condición especificada. También podemos encadenar múltiples condiciones en una consulta utilizando el lenguaje fluido:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = App\Models\User::where(&#x27;name&#x27;, &#x27;John&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;where(&#x27;email&#x27;, &#x27;like&#x27;, &#x27;%example.com&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este ejemplo devolverá una colección de objetos <code>User</code> que tengan el nombre &quot;John&quot; y cuyo correo electrónico termine en &quot;example.com&quot;. </p><p>Una vez que se ha recuperado la colección de objetos,
se puede iterar sobre ella y acceder a sus propiedades y métodos,
como cualquier otro objeto de Eloquent.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="groupby">groupBy<a href="#groupby" class="hash-link" aria-label="Enlace directo al groupBy" title="Enlace directo al groupBy">​</a></h3><p>El método <code>groupBy</code> se utiliza para agrupar los resultados de la consulta por una columna determinada. Toma como argumento el nombre de la columna por la cual se desea agrupar los resultados.</p><p>Por ejemplo, si deseamos agrupar los registros de una tabla <code>users</code> por su país de origen, podríamos utilizar el método <code>groupBy</code> de la siguiente manera:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$usersByCountry = DB::table(&#x27;users&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    -&gt;select(&#x27;country&#x27;, DB::raw(&#x27;count(*) as total&#x27;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    -&gt;groupBy(&#x27;country&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    -&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>En este ejemplo, la consulta selecciona la columna <code>country</code> de la tabla <code>users</code>, junto con una columna calculada utilizando la función <code>count(*)</code> de SQL que cuenta el número total de registros agrupados por país. Luego, se llama al método <code>groupBy(&#x27;country&#x27;)</code> para agrupar los registros por país, y finalmente se obtienen los resultados con el método <code>get()</code>.</p><p>El método <code>groupBy</code> también puede tomar múltiples
argumentos para agrupar los resultados por varias columnas.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="has">has<a href="#has" class="hash-link" aria-label="Enlace directo al has" title="Enlace directo al has">​</a></h3><p>El método <code>has</code> se utiliza para verificar si una relación específica existe para un modelo. Por ejemplo, si tenemos un modelo de <code>Usuario</code> que tiene una relación de <code>Posts</code>, podemos verificar si un usuario tiene algún post utilizando el método <code>has</code>:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$user = User::find(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if ($user-&gt;has(&#x27;posts&#x27;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // El usuario tiene al menos un post</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // El usuario no tiene ningún post</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>También es posible agregar restricciones a la consulta de la relación. Por ejemplo, para verificar si un usuario tiene al menos un post publicado, se puede utilizar:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$user = User::find(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if ($user-&gt;has(&#x27;posts&#x27;, &#x27;&gt;&#x27;, 0)-&gt;where(&#x27;publicado&#x27;, true)-&gt;exists()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // El usuario tiene al menos un post publicado</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // El usuario no tiene ningún post publicado</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>El método <code>has</code> también puede ser utilizado en una consulta, para filtrar los resultados basados en la existencia de una relación. Por ejemplo, para obtener todos los usuarios que tienen al menos un post publicado:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = User::has(&#x27;posts&#x27;, &#x27;&gt;&#x27;, 0)-&gt;whereHas(&#x27;posts&#x27;, function ($query) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $query-&gt;where(&#x27;publicado&#x27;, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})-&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>En este ejemplo, utilizamos el método <code>whereHas</code> para agregar una restricción a la consulta de la relación. La consulta resultante incluirá únicamente
los usuarios que tengan al menos un post publicado.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="join">join<a href="#join" class="hash-link" aria-label="Enlace directo al join" title="Enlace directo al join">​</a></h3><p>El método <code>join()</code> se utiliza para realizar una unión entre dos o más tablas en una consulta SQL. Permite especificar la relación entre las tablas mediante la cláusula <code>ON</code>. </p><p>El método acepta varios parámetros: </p><ul><li>La primera variable es la tabla a la que se va a unir.</li><li>La segunda variable es la columna de la tabla base que se va a utilizar para unir la tabla especificada.</li><li>La tercera variable es la columna de la tabla especificada que se va a utilizar para unir la tabla base.</li><li>El cuarto parámetro es un operador lógico como <code>AND</code> o <code>OR</code>.</li></ul><p>El método <code>join()</code> devuelve una instancia de la clase <code>Illuminate\Database\Query\Builder</code> que se puede utilizar para construir consultas más complejas. </p><p>Aquí hay un ejemplo de cómo utilizar el método <code>join()</code> para unir dos tablas:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = DB::table(&#x27;users&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;join(&#x27;orders&#x27;, &#x27;users.id&#x27;, &#x27;=&#x27;, &#x27;orders.user_id&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;select(&#x27;users.*&#x27;, &#x27;orders.price&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este ejemplo une la tabla <code>users</code> con la tabla <code>orders</code> usando la columna <code>id</code>
de la tabla <code>users</code> y la columna <code>user_id</code> de la tabla <code>orders</code>.
La consulta devuelve todas las columnas de la tabla <code>users</code> y la columna
<code>price</code> de la tabla <code>orders</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="max">max<a href="#max" class="hash-link" aria-label="Enlace directo al max" title="Enlace directo al max">​</a></h3><p>El método <code>join()</code> se utiliza para realizar una unión entre dos o más tablas en una consulta SQL. Permite especificar la relación entre las tablas mediante la cláusula <code>ON</code>. </p><p>El método acepta varios parámetros: </p><ul><li>La primera variable es la tabla a la que se va a unir.</li><li>La segunda variable es la columna de la tabla base que se va a utilizar para unir la tabla especificada.</li><li>La tercera variable es la columna de la tabla especificada que se va a utilizar para unir la tabla base.</li><li>El cuarto parámetro es un operador lógico como <code>AND</code> o <code>OR</code>.</li></ul><p>El método <code>join()</code> devuelve una instancia de la clase <code>Illuminate\Database\Query\Builder</code> que se puede utilizar para construir consultas más complejas. </p><p>Aquí hay un ejemplo de cómo utilizar el método <code>join()</code> para unir dos tablas:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = DB::table(&#x27;users&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;join(&#x27;orders&#x27;, &#x27;users.id&#x27;, &#x27;=&#x27;, &#x27;orders.user_id&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;select(&#x27;users.*&#x27;, &#x27;orders.price&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este ejemplo une la tabla <code>users</code> con la tabla <code>orders</code> usando la columna <code>id</code> de la tabla <code>users</code> y la columna <code>user_id</code> de la tabla <code>orders</code>. La consulta devuelve todas las columnas de la tabla <code>users</code> y
la columna <code>price</code> de la tabla <code>orders</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="min">min<a href="#min" class="hash-link" aria-label="Enlace directo al min" title="Enlace directo al min">​</a></h3><p>El método <code>min</code> de Eloquent es utilizado para obtener el valor mínimo de una columna de la tabla de la base de datos.</p><p>Para utilizar este método, se debe encadenar al objeto de consulta el método <code>min</code> y pasarle como parámetro el nombre de la columna a la que se desea aplicar el método:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$minPrice = DB::table(&#x27;products&#x27;)-&gt;min(&#x27;price&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>En este ejemplo, se obtendrá el precio mínimo de todos los productos de la tabla &quot;products&quot;.</p><p>También se puede utilizar este método con el modelo Eloquent:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$minPrice = Product::min(&#x27;price&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>En este caso, se obtendrá el precio mínimo de todos los productos representados por el modelo <code>Product</code>.</p><p>Es importante mencionar que este método sólo funciona con columnas numéricas. Si se intenta utilizar con una columna de tipo cadena,
se obtendrá un resultado inesperado o un error.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="orderby">orderBy<a href="#orderby" class="hash-link" aria-label="Enlace directo al orderBy" title="Enlace directo al orderBy">​</a></h3><p>El método <code>orderBy</code> se utiliza para ordenar los resultados de una consulta según una o más columnas especificadas. Se pueden encadenar múltiples llamadas a este método para ordenar por varias columnas.</p><p>La sintaxis básica del método <code>orderBy</code> es la siguiente:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-&gt;orderBy(&#x27;columna&#x27;, &#x27;dirección&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Donde <code>&#x27;columna&#x27;</code> es el nombre de la columna por la que se desea ordenar, y <code>&#x27;dirección&#x27;</code> es la dirección de la ordenación (opcional). La dirección predeterminada es ascendente (<code>&#x27;asc&#x27;</code>), pero se puede especificar <code>&#x27;desc&#x27;</code> para ordenar descendente.</p><p>También se puede pasar un arreglo de columnas y direcciones de ordenación para ordenar por múltiples columnas. Por ejemplo:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-&gt;orderBy([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;columna1&#x27; =&gt; &#x27;asc&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;columna2&#x27; =&gt; &#x27;desc&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este método es muy útil para ordenar los resultados de una consulta según diferentes criterios, como por ejemplo ordenar por fecha y hora,
o por un campo numérico de forma descendente.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pluck">pluck<a href="#pluck" class="hash-link" aria-label="Enlace directo al pluck" title="Enlace directo al pluck">​</a></h3><p>El método <code>pluck</code> en Eloquent se utiliza para obtener un array de valores de una única columna de la tabla de la base de datos. Se proporciona el nombre de la columna de la que se desea recuperar los valores y devuelve una colección de esos valores.</p><p>La sintaxis básica del método <code>pluck</code> es la siguiente:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = DB::table(&#x27;users&#x27;)-&gt;pluck(&#x27;name&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Esto recuperará todos los valores de la columna <code>name</code> de la tabla <code>users</code> y los almacenará en la variable <code>$users</code>. Si desea recuperar los valores de otra columna, simplemente cambie el nombre de la columna en el método <code>pluck</code>.</p><p>También puede especificar un segundo argumento para indicar el nombre de la columna que se utilizará como clave de la matriz resultante. Por ejemplo:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = DB::table(&#x27;users&#x27;)-&gt;pluck(&#x27;name&#x27;, &#x27;id&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Esto recuperará los valores de la columna <code>name</code> y los utilizará como valores de la matriz resultante. Los valores de la columna <code>id</code> se utilizarán como claves de la matriz.</p><p>También es posible encadenar otros métodos de consulta a <code>pluck</code>
para filtrar o limitar los resultados recuperados.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="save">save<a href="#save" class="hash-link" aria-label="Enlace directo al save" title="Enlace directo al save">​</a></h3><p>El método <code>save()</code> se utiliza para guardar un modelo en la base de datos. Si el modelo ya existe en la base de datos, se actualizará con los nuevos valores proporcionados en el modelo, de lo contrario, se creará un nuevo registro con los valores proporcionados.</p><p>Por ejemplo, si tenemos un modelo <code>User</code> con los atributos <code>name</code> y <code>email</code>, podemos crear un nuevo registro en la base de datos utilizando el método <code>save()</code> de la siguiente manera:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$user = new User;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$user-&gt;name = &#x27;John Doe&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$user-&gt;email = &#x27;john@example.com&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$user-&gt;save();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>También podemos actualizar un registro existente utilizando el método <code>save()</code>:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$user = User::find(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$user-&gt;name = &#x27;Jane Doe&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$user-&gt;email = &#x27;jane@example.com&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$user-&gt;save();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>El método <code>save()</code> automáticamente determina si se debe
crear un nuevo registro o actualizar uno existente en función del valor
de la clave primaria del modelo.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="select">select<a href="#select" class="hash-link" aria-label="Enlace directo al select" title="Enlace directo al select">​</a></h3><p>El método <code>select()</code> se utiliza para seleccionar columnas específicas de una tabla en una consulta. Toma una lista de columnas como argumento y devuelve una instancia del constructor de consultas Eloquent con la lista de columnas seleccionadas. Por ejemplo, para seleccionar las columnas &#x27;name&#x27; y &#x27;email&#x27; de la tabla &#x27;users&#x27;:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = DB::table(&#x27;users&#x27;)-&gt;select(&#x27;name&#x27;, &#x27;email&#x27;)-&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>También es posible seleccionar todas las columnas de una tabla utilizando el método <code>select(&#x27;*&#x27;)</code>. Además, el método <code>selectRaw()</code> permite seleccionar columnas con una expresión SQL personalizada. </p><p>Es importante tener en cuenta que el método <code>select()</code> no modifica la consulta actual sino que devuelve una nueva instancia del constructor de consultas con la selección realizada. Por lo tanto, es necesario encadenar otros métodos de consulta, como <code>where()</code> o
<code>orderBy()</code>, para completar la consulta.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sum">sum<a href="#sum" class="hash-link" aria-label="Enlace directo al sum" title="Enlace directo al sum">​</a></h3><p>El método <code>sum()</code> de Eloquent permite obtener la suma de un campo específico en los registros de una tabla. Su sintaxis es la siguiente:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$suma = MiModelo::sum(&#x27;campo&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Donde <code>MiModelo</code> es el nombre del modelo de Eloquent asociado a la tabla, y <code>&#x27;campo&#x27;</code> es el nombre del campo del que se desea obtener la suma.</p><p>Por ejemplo, si se desea obtener la suma del campo <code>cantidad</code> de la tabla <code>ventas</code>, se puede
utilizar el método de la siguiente manera:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$suma = Venta::sum(&#x27;cantidad&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este método devuelve un valor numérico con la suma de todos los registros
de la tabla que contengan un valor en el campo especificado.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="update">update<a href="#update" class="hash-link" aria-label="Enlace directo al update" title="Enlace directo al update">​</a></h3><p>El método <code>update</code> es utilizado para actualizar uno o varios registros en la base de datos a partir de un modelo o una consulta Eloquent.</p><p>El método acepta un arreglo de datos clave-valor que representan los campos y valores que se desean actualizar en la tabla correspondiente. Por ejemplo:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$affectedRows = DB::table(&#x27;users&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              -&gt;where(&#x27;id&#x27;, 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              -&gt;update([&#x27;name&#x27; =&gt; &#x27;John&#x27;]);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este código actualizaría el nombre del usuario con <code>id</code> igual a 1 a &quot;John&quot;.</p><p>También es posible utilizar el método <code>update</code> directamente desde un modelo Eloquent, lo que resulta en un código más legible. Por ejemplo:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$user = User::find(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$user-&gt;name = &#x27;John&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$user-&gt;save();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este código hace exactamente lo mismo que el ejemplo anterior, pero utilizando un modelo Eloquent. Primero se busca el usuario con <code>id</code> igual a 1 y se actualiza su atributo <code>name</code> a &quot;John&quot;. Finalmente, se guarda el modelo
para persistir los cambios en la base de datos.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="where">where<a href="#where" class="hash-link" aria-label="Enlace directo al where" title="Enlace directo al where">​</a></h3><p>El método <code>where</code> se utiliza para añadir una cláusula WHERE a la consulta de Eloquent. Esta cláusula permite filtrar los resultados de la consulta en función de una o varias condiciones. </p><p>El método acepta varios tipos de parámetros, como una cadena con el nombre de una columna y su valor correspondiente, un array con varias condiciones, o incluso una función de callback que permita crear condiciones más complejas.</p><p>Por ejemplo, si queremos obtener todos los usuarios cuyo nombre sea &quot;Juan&quot;, podemos utilizar el método <code>where</code> de la siguiente manera:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = User::where(&#x27;name&#x27;, &#x27;Juan&#x27;)-&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>También es posible utilizar operadores lógicos para combinar varias condiciones. Por ejemplo, si queremos obtener todos los usuarios cuyo nombre sea &quot;Juan&quot; y su edad sea mayor que 25, podemos utilizar el método <code>where</code> de la siguiente manera:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = User::where(&#x27;name&#x27;, &#x27;Juan&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             -&gt;where(&#x27;age&#x27;, &#x27;&gt;&#x27;, 25)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             -&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>En este ejemplo, se están encadenando dos métodos <code>where</code>, lo que indica que la consulta debe incluir usuarios que cumplan ambas condiciones. Si en su lugar queremos que se cumpla al menos una de las dos condiciones, podemos utilizar el método <code>orWhere</code> en lugar de <code>where</code>.</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = User::where(&#x27;name&#x27;, &#x27;Juan&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             -&gt;orWhere(&#x27;age&#x27;, &#x27;&gt;&#x27;, 25)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             -&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este ejemplo devolverá todos los usuarios cuyo nombre sea &quot;Juan&quot;,
así como aquellos cuya edad sea mayor que 25.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="otros-métodos">Otros métodos<a href="#otros-métodos" class="hash-link" aria-label="Enlace directo al Otros métodos" title="Enlace directo al Otros métodos">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="findorfaild">findOrFaild<a href="#findorfaild" class="hash-link" aria-label="Enlace directo al findOrFaild" title="Enlace directo al findOrFaild">​</a></h3><p>El método <code>findOrFail</code> de Eloquent busca un modelo por su clave primaria y lanza una excepción de tipo <code>ModelNotFoundException</code> si no lo encuentra. Este método es útil cuando se espera que el modelo exista en la base de datos y se quiere manejar la excepción en caso de que no sea así.</p><p>Por ejemplo, si se quiere buscar un usuario por su ID y se espera que el usuario exista, se puede usar <code>findOrFail</code> de la siguiente manera:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$user = User::findOrFail($id);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Si el usuario con el ID especificado no existe en la base de datos,
se lanzará una excepción <code>ModelNotFoundException</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="first-1">first<a href="#first-1" class="hash-link" aria-label="Enlace directo al first" title="Enlace directo al first">​</a></h3><p>El método <code>first</code> en Eloquent se utiliza para recuperar el primer registro que cumple con las condiciones especificadas. Es similar al método <code>get</code>, pero en lugar de recuperar todos los registros que cumplen con las condiciones, solamente retorna el primer registro encontrado.</p><p>Este método toma como parámetro opcional una cláusula <code>where</code> para especificar las condiciones de búsqueda. Por ejemplo, si deseas recuperar el primer usuario en la tabla de usuarios que tenga un nombre específico, podrías hacer lo siguiente:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$user = User::where(&#x27;name&#x27;, &#x27;John&#x27;)-&gt;first();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Si no se especifican condiciones de búsqueda, <code>first</code> retorna el primer registro de la tabla. Si no hay registros en la tabla, <code>first</code> retorna <code>null</code>.</p><p>Es importante destacar que si se desea lanzar una excepción si no se encuentra ningún registro que cumpla con las condiciones especificadas,
se puede utilizar el método <code>firstOrFail</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="firstorfail">firstOrFail<a href="#firstorfail" class="hash-link" aria-label="Enlace directo al firstOrFail" title="Enlace directo al firstOrFail">​</a></h3><p>El método <code>firstOrFail</code> es similar al método <code>first</code> en que devuelve el primer modelo que cumple con las condiciones de la consulta. Sin embargo, si el modelo no se encuentra, lanza una excepción <code>ModelNotFoundException</code>. </p><p>Esto puede ser útil si se espera que el modelo exista y se desea manejar explícitamente el caso en que no se encuentre en lugar de tener que verificar si el resultado es nulo después de llamar a <code>first</code>.</p><p>Por ejemplo, supongamos que tenemos una tabla <code>users</code> con un campo <code>email</code> que debe ser único. Podemos buscar un usuario por su dirección de correo electrónico utilizando el método <code>firstOrFail</code> de la siguiente manera:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$user = User::where(&#x27;email&#x27;, $email)-&gt;firstOrFail();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Si no hay ningún usuario con la dirección de correo electrónico especificada en la consulta,
se lanzará una excepción <code>ModelNotFoundException</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="exist">exist<a href="#exist" class="hash-link" aria-label="Enlace directo al exist" title="Enlace directo al exist">​</a></h3><p>El método <code>exists</code> en Eloquent se utiliza para verificar si existe al menos un registro que cumple con las condiciones especificadas. Devuelve <code>true</code> si existe al menos un registro, y <code>false</code> en caso contrario.</p><p>Este método puede ser útil para verificar si un registro existe antes de intentar realizar alguna acción sobre él. Por ejemplo, si se quiere actualizar un registro específico, se puede usar <code>exists</code>
para verificar si existe antes de intentar actualizarlo.</p><p>Aquí hay un ejemplo de cómo se puede usar <code>exists</code>:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (User::where(&#x27;email&#x27;, &#x27;=&#x27;, &#x27;johndoe@example.com&#x27;)-&gt;exists()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // hacer algo si existe al menos un usuario con el correo electrónico especificado</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // hacer algo si no existe ningún usuario con el correo electrónico especificado</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>En este ejemplo, se verifica si existe al menos un usuario en la
tabla <code>users</code> con el
correo electrónico <code>&#x27;johndoe@example.com&#x27;</code>. Si existe,
se ejecutará el primer bloque de código, y si no existe,
se ejecutará el segundo bloque de código.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="orwhere">orWhere<a href="#orwhere" class="hash-link" aria-label="Enlace directo al orWhere" title="Enlace directo al orWhere">​</a></h3><p>El método <code>orWhere</code> se utiliza en consultas de Eloquent para agregar una cláusula <code>OR</code> a la consulta. Esto significa que se agregarán condiciones adicionales a la consulta, pero en lugar de ser <code>AND</code>, serán <code>OR</code>.</p><p>Por ejemplo, supongamos que tenemos una tabla de usuarios y queremos buscar usuarios que tengan un nombre específico o un correo electrónico específico. Podríamos escribir una consulta usando <code>orWhere</code> de la siguiente manera:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = User::where(&#x27;name&#x27;, &#x27;John&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             -&gt;orWhere(&#x27;email&#x27;, &#x27;john@example.com&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             -&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Esta consulta buscará usuarios que tengan el nombre &quot;John&quot; o el correo electrónico &quot;<a href="mailto:john@example.com" target="_blank" rel="noopener noreferrer">john@example.com</a>&quot;. Si hubiéramos utilizado <code>where</code> en lugar de <code>orWhere</code>, la consulta habría buscado usuarios que tengan tanto el nombre &quot;John&quot; como el correo electrónico &quot;<a href="mailto:john@example.com" target="_blank" rel="noopener noreferrer">john@example.com</a>&quot;, lo cual probablemente no es lo que queremos en este caso.</p><p>El método <code>orWhere</code> se puede encadenar con otros métodos de consulta de Eloquent, como <code>where</code>, <code>whereIn</code>, <code>whereBetween</code>, etc., para construir consultas más complejas.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wherein">whereIn<a href="#wherein" class="hash-link" aria-label="Enlace directo al whereIn" title="Enlace directo al whereIn">​</a></h3><p>El método <code>whereIn</code> se utiliza para agregar una cláusula <code>WHERE IN</code> a la consulta. Toma dos parámetros: el nombre de la columna y un array de valores a buscar. La consulta resultante buscará registros en los que el valor de la columna especificada esté contenido en el array de valores.</p><p>Por ejemplo, si queremos buscar todos los usuarios cuyo <code>id</code> sea 1, 2 o 3, podemos hacer lo siguiente:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$usuarios = DB::table(&#x27;users&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;whereIn(&#x27;id&#x27;, [1, 2, 3])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este código generará la siguiente consulta SQL:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SELECT * FROM users WHERE id IN (1, 2, 3);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Y devolverá una colección con los usuarios correspondientes.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wherenotin">whereNotIn<a href="#wherenotin" class="hash-link" aria-label="Enlace directo al whereNotIn" title="Enlace directo al whereNotIn">​</a></h3><p>El método <code>whereNotIn</code> agrega una cláusula <code>WHERE NOT IN</code> a la consulta, para buscar registros donde el valor de una columna no se encuentre en un conjunto de valores especificado.</p><p>Por ejemplo, supongamos que tenemos una tabla de <code>usuarios</code> y queremos buscar aquellos que no se encuentren en una lista de IDs específicos:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = DB::table(&#x27;usuarios&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;whereNotIn(&#x27;id&#x27;, [1, 2, 3])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>En este caso, la consulta buscará todos los usuarios cuyo ID no sea 1, 2 o 3.</p><p>El método <code>whereNotIn</code> acepta dos argumentos: el nombre de la columna que queremos buscar, y un array de valores que la columna no debe tener. También podemos pasar una subconsulta en lugar de un array de valores para hacer la búsqueda más compleja.</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = DB::table(&#x27;usuarios&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;whereNotIn(&#x27;id&#x27;, function($query) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    $query-&gt;select(&#x27;usuario_id&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          -&gt;from(&#x27;registros&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          -&gt;where(&#x27;fecha&#x27;, &#x27;&gt;&#x27;, &#x27;2022-01-01&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>En este ejemplo, la consulta buscará todos los usuarios cuyo ID no
aparezca en una subconsulta que seleccione los IDs de
usuarios que hayan hecho un registro después del 1 de enero de 2022.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wherebetween">whereBetween<a href="#wherebetween" class="hash-link" aria-label="Enlace directo al whereBetween" title="Enlace directo al whereBetween">​</a></h3><p>El método <code>whereBetween</code> es utilizado para agregar una cláusula <code>WHERE BETWEEN</code> a la consulta de Eloquent. Esta cláusula es utilizada para buscar registros cuyo valor en una determinada columna se encuentre dentro de un rango de valores especificado.</p><p>La sintaxis básica del método es la siguiente:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">whereBetween(string $column, array $values, string $boolean = &#x27;and&#x27;, bool $not = false)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Donde:</p><ul><li><code>$column</code>: es el nombre de la columna en la que se desea buscar el rango de valores.</li><li><code>$values</code>: es un arreglo con dos valores que representan el rango de valores a buscar.</li><li><code>$boolean</code>: indica si se debe agregar una cláusula <code>AND</code> o <code>OR</code> a la consulta. Por defecto es <code>AND</code>.</li><li><code>$not</code>: indica si se debe negar la cláusula, es decir, buscar valores que no estén dentro del rango. Por defecto es <code>false</code>.</li></ul><p>Por ejemplo, si se desea buscar todos los usuarios cuya edad esté entre 18 y 25 años, se puede utilizar el método de la siguiente manera:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = DB::table(&#x27;users&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;whereBetween(&#x27;age&#x27;, [18, 25])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Esto generará una consulta SQL similar a la siguiente:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> users </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> age </span><span class="token operator" style="color:#393A34">BETWEEN</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wherenull">whereNull<a href="#wherenull" class="hash-link" aria-label="Enlace directo al whereNull" title="Enlace directo al whereNull">​</a></h3><p>El método <code>whereNull</code> permite agregar una cláusula WHERE a la consulta para buscar registros donde el valor de una determinada columna es nulo (<code>NULL</code>).</p><p>Ejemplo de uso:</p><p>Supongamos que tenemos una tabla llamada <code>users</code> con una columna <code>email</code> que puede ser nula en algunos casos. Si queremos buscar los usuarios que no tienen correo electrónico registrado, podemos hacerlo de la siguiente manera:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = DB::table(&#x27;users&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;whereNull(&#x27;email&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este código generará la siguiente consulta SQL:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> users </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> email </span><span class="token operator" style="color:#393A34">IS</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>El método <code>whereNull</code> también acepta un segundo argumento opcional que se utilizará como operador para la cláusula WHERE. Por ejemplo, si queremos buscar los usuarios cuyo correo electrónico no está definido pero que sí tienen un nombre de usuario, podemos hacer lo siguiente:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = DB::table(&#x27;users&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;whereNull(&#x27;email&#x27;, &#x27;AND&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;whereNotNull(&#x27;username&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este código generará la siguiente consulta SQL:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> users </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> email </span><span class="token operator" style="color:#393A34">IS</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> username </span><span class="token operator" style="color:#393A34">IS</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wherenotnull">whereNotNull<a href="#wherenotnull" class="hash-link" aria-label="Enlace directo al whereNotNull" title="Enlace directo al whereNotNull">​</a></h3><p>El método <code>whereNotNull</code> de Eloquent agrega una cláusula WHERE a la consulta para buscar los registros de la base de datos donde el valor de una columna específica no sea nulo. Por ejemplo, si queremos obtener todos los usuarios que tienen un correo electrónico en la base de datos, podemos hacer lo siguiente:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$usuarios = Usuario::whereNotNull(&#x27;email&#x27;)-&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Esto generará una consulta SQL que buscará todos los registros de la tabla &quot;usuarios&quot; donde el valor de la columna &quot;email&quot; no sea nulo.</p><p>Es importante tener en cuenta que este método solo busca registros
donde el valor de la columna es diferente de nulo. Si se necesita
buscar registros donde el valor de una columna específica es
igual a cero o a una cadena vacía, por ejemplo, se debe utilizar
otro método como <code>where</code> o <code>orWhere</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wheredate">whereDate<a href="#wheredate" class="hash-link" aria-label="Enlace directo al whereDate" title="Enlace directo al whereDate">​</a></h3><p>El método <code>whereDate</code> permite agregar una cláusula WHERE a la consulta para comparar fechas. Toma dos argumentos: el nombre de la columna de fecha y la fecha a comparar en formato <code>YYYY-MM-DD</code>. Por ejemplo, si deseas obtener todos los usuarios que se registraron en un día específico,
podrías hacer lo siguiente:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = User::whereDate(&#x27;created_at&#x27;, &#x27;2022-04-24&#x27;)-&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Esto buscará todos los usuarios que se registraron en el 24 de abril de
2022 y devolverá una colección de objetos de modelo correspondientes.
También puedes utilizar <code>whereMonth</code>, <code>whereDay</code> y <code>whereYear</code>
para comparar partes específicas de una fecha.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wheremonth">whereMonth<a href="#wheremonth" class="hash-link" aria-label="Enlace directo al whereMonth" title="Enlace directo al whereMonth">​</a></h3><p>El método <code>whereMonth</code> se utiliza para agregar una cláusula <code>where</code> a una consulta Eloquent para buscar registros cuyo valor de fecha correspondiente al campo especificado tenga un mes determinado.</p><p>La sintaxis básica es la siguiente:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-&gt;whereMonth(&#x27;campo&#x27;, $mes);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Donde <code>&#x27;campo&#x27;</code> es el nombre del campo de fecha en la tabla y <code>$mes</code> es el número del mes (1-12) que se quiere buscar.</p><p>Por ejemplo, si queremos buscar todos los usuarios que nacieron en marzo, podemos hacer lo siguiente:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$usuarios = DB::table(&#x27;usuarios&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;whereMonth(&#x27;fecha_nacimiento&#x27;, 3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este código buscará todos los registros en la tabla de usuarios donde
el campo &quot;fecha_nacimiento&quot; tenga un valor de mes igual a 3 (marzo).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="whereday">whereDay<a href="#whereday" class="hash-link" aria-label="Enlace directo al whereDay" title="Enlace directo al whereDay">​</a></h3><p>El método <code>whereDay</code> en Eloquent permite agregar una cláusula <code>where</code> a la consulta para comparar el día de un campo de fecha con un valor específico.</p><p>Por ejemplo, para obtener todos los registros de la tabla <code>pedidos</code> donde el día de la fecha de <code>created_at</code> sea igual a <code>23</code>, se puede usar el siguiente código:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$pedidos = Pedido::whereDay(&#x27;created_at&#x27;, &#x27;=&#x27;, 23)-&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este método también acepta un segundo parámetro opcional que permite especificar el operador de comparación. Por ejemplo, para obtener todos los registros de la tabla <code>pedidos</code> donde el día de la fecha de <code>created_at</code> sea mayor o igual a <code>23</code>, se puede usar el siguiente código:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$pedidos = Pedido::whereDay(&#x27;created_at&#x27;, &#x27;&gt;=&#x27;, 23)-&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>También se puede encadenar varias cláusulas <code>whereDay</code>
para agregar múltiples condiciones a la consulta.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="whereyear">whereYear<a href="#whereyear" class="hash-link" aria-label="Enlace directo al whereYear" title="Enlace directo al whereYear">​</a></h3><p>El método <code>whereYear</code> es un método de consulta en Eloquent que agrega una cláusula WHERE a la consulta para comparar el año de una columna de fecha o fecha y hora. Toma dos parámetros: el primero es el nombre de la columna y el segundo es el año que se utilizará para comparar. Por ejemplo:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$users = DB::table(&#x27;users&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;whereYear(&#x27;created_at&#x27;, &#x27;=&#x27;, 2022)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>En este ejemplo, se obtienen todos los usuarios cuya columna
<code>created_at</code> tiene un valor de año igual a <code>2022</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wherehas">whereHas<a href="#wherehas" class="hash-link" aria-label="Enlace directo al whereHas" title="Enlace directo al whereHas">​</a></h3><p>El método <code>whereHas</code> se utiliza para buscar modelos que tienen una relación con otro modelo. Por ejemplo, si tienes una relación <code>hasMany</code> entre <code>Post</code> y <code>Comment</code>, puedes usar <code>whereHas</code> para buscar todos los posts que tienen al menos un comentario. Este método toma dos argumentos: el nombre de la relación y una función de cierre que define las condiciones que deben cumplir los modelos relacionados.</p><p>Aquí hay un ejemplo:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$posts = Post::whereHas(&#x27;comments&#x27;, function($query) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $query-&gt;where(&#x27;status&#x27;, &#x27;approved&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})-&gt;get();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Este código buscará todos los <code>Post</code> que tengan
al menos un <code>Comment</code> con el estado <code>approved</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wheredoesnthave">whereDoesntHave<a href="#wheredoesnthave" class="hash-link" aria-label="Enlace directo al whereDoesntHave" title="Enlace directo al whereDoesntHave">​</a></h3><p>El método <code>whereDoesntHave</code> se utiliza para agregar una cláusula WHERE a la consulta para buscar modelos que no tienen una relación dada. </p><p>Por ejemplo, si tenemos una relación entre los modelos <code>User</code> y <code>Post</code> donde un usuario tiene muchos posts, podemos usar <code>whereDoesntHave</code> para buscar los usuarios que no tienen ningún post. La sintaxis básica del método es la siguiente:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$query-&gt;whereDoesntHave(&#x27;relationshipName&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Donde <code>relationshipName</code> es el nombre de la relación que se está buscando. También se puede proporcionar una función de cierre para agregar más condiciones a la consulta, por ejemplo:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$query-&gt;whereDoesntHave(&#x27;posts&#x27;, function ($query) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $query-&gt;where(&#x27;status&#x27;, &#x27;published&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>En este caso, se buscarán los usuarios que no tienen ningún post con el estado &quot;publicado&quot;.</p><p>Es importante tener en cuenta que el método <code>whereDoesntHave</code> sólo busca modelos que no tienen una relación en particular. Si queremos buscar modelos que no tienen una relación o que tienen una relación que no cumple con ciertas condiciones, se puede usar el método <code>doesntHave</code> en su lugar.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tutorial-basics/06-consultas.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Editar esta página</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navegación de páginas de documentos"><a class="pagination-nav__link pagination-nav__link--prev" href="/curso-laravel/docs/tutorial-basics/seeders"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Rellenando la BB.DD</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/curso-laravel/docs/category/eloquent-y-sql"><div class="pagination-nav__sublabel">Siguiente</div><div class="pagination-nav__label">Eloquent y SQL</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#qué-son-las-consultas-en-eloquent" class="table-of-contents__link toc-highlight">¿Qué son las consultas en Eloquent?</a></li><li><a href="#cómo-utilizar-eloquent-para-encadenar-métodos-y-construir-consultas" class="table-of-contents__link toc-highlight">Cómo utilizar Eloquent para encadenar métodos y construir consultas.</a></li><li><a href="#métodos" class="table-of-contents__link toc-highlight">métodos</a><ul><li><a href="#all" class="table-of-contents__link toc-highlight">all</a></li><li><a href="#avg" class="table-of-contents__link toc-highlight">avg()</a></li><li><a href="#chunk" class="table-of-contents__link toc-highlight">chunk</a></li><li><a href="#count" class="table-of-contents__link toc-highlight">count()</a></li><li><a href="#create" class="table-of-contents__link toc-highlight">create</a></li><li><a href="#delete" class="table-of-contents__link toc-highlight">delete</a></li><li><a href="#distinct" class="table-of-contents__link toc-highlight">distinct</a></li><li><a href="#find" class="table-of-contents__link toc-highlight">find</a></li><li><a href="#first" class="table-of-contents__link toc-highlight">first</a></li><li><a href="#get" class="table-of-contents__link toc-highlight">get</a></li><li><a href="#groupby" class="table-of-contents__link toc-highlight">groupBy</a></li><li><a href="#has" class="table-of-contents__link toc-highlight">has</a></li><li><a href="#join" class="table-of-contents__link toc-highlight">join</a></li><li><a href="#max" class="table-of-contents__link toc-highlight">max</a></li><li><a href="#min" class="table-of-contents__link toc-highlight">min</a></li><li><a href="#orderby" class="table-of-contents__link toc-highlight">orderBy</a></li><li><a href="#pluck" class="table-of-contents__link toc-highlight">pluck</a></li><li><a href="#save" class="table-of-contents__link toc-highlight">save</a></li><li><a href="#select" class="table-of-contents__link toc-highlight">select</a></li><li><a href="#sum" class="table-of-contents__link toc-highlight">sum</a></li><li><a href="#update" class="table-of-contents__link toc-highlight">update</a></li><li><a href="#where" class="table-of-contents__link toc-highlight">where</a></li></ul></li><li><a href="#otros-métodos" class="table-of-contents__link toc-highlight">Otros métodos</a><ul><li><a href="#findorfaild" class="table-of-contents__link toc-highlight">findOrFaild</a></li><li><a href="#first-1" class="table-of-contents__link toc-highlight">first</a></li><li><a href="#firstorfail" class="table-of-contents__link toc-highlight">firstOrFail</a></li><li><a href="#exist" class="table-of-contents__link toc-highlight">exist</a></li><li><a href="#orwhere" class="table-of-contents__link toc-highlight">orWhere</a></li><li><a href="#wherein" class="table-of-contents__link toc-highlight">whereIn</a></li><li><a href="#wherenotin" class="table-of-contents__link toc-highlight">whereNotIn</a></li><li><a href="#wherebetween" class="table-of-contents__link toc-highlight">whereBetween</a></li><li><a href="#wherenull" class="table-of-contents__link toc-highlight">whereNull</a></li><li><a href="#wherenotnull" class="table-of-contents__link toc-highlight">whereNotNull</a></li><li><a href="#wheredate" class="table-of-contents__link toc-highlight">whereDate</a></li><li><a href="#wheremonth" class="table-of-contents__link toc-highlight">whereMonth</a></li><li><a href="#whereday" class="table-of-contents__link toc-highlight">whereDay</a></li><li><a href="#whereyear" class="table-of-contents__link toc-highlight">whereYear</a></li><li><a href="#wherehas" class="table-of-contents__link toc-highlight">whereHas</a></li><li><a href="#wheredoesnthave" class="table-of-contents__link toc-highlight">whereDoesntHave</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Jesús Quintana Esquiliche</div></div></div></footer></div>
<script src="/curso-laravel/assets/js/runtime~main.c0503f3a.js"></script>
<script src="/curso-laravel/assets/js/main.2b39f6c7.js"></script>
</body>
</html>